<!DOCTYPE html>
<!--
Licensed to the Apache Software Foundation (ASF) under one
or more contributor license agreements.  See the NOTICE file
distributed with this work for additional information
regarding copyright ownership.  The ASF licenses this file
to you under the Apache License, Version 2.0 (the
"License"); you may not use this file except in compliance
with the License.  You may obtain a copy of the License at

   http://www.apache.org/licenses/LICENSE-2.0

Unless required by applicable law or agreed to in writing,
software distributed under the License is distributed on an
"AS IS" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY
KIND, either express or implied.  See the License for the
specific language governing permissions and limitations
under the License.
-->


<html>
    <head>
        <meta charset="utf-8">
        <meta name="viewport" content="width=device-width, initial-scale=1" />
        <script src="lib/simpleRequire.js"></script>
        <script src="lib/config.js"></script>
        <script src="lib/jquery.min.js"></script>
        <script src="lib/facePrint.js"></script>
        <script src="lib/testHelper.js"></script>
        <!-- <script src="lib/canteen.js"></script> -->
        <!-- <script src="lib/draggable.js"></script> -->
        <link rel="stylesheet" href="lib/reset.css" />
    </head>
    <body>
        <style>
        </style>


        <div id="main0"></div>

        <script>
            var cnt = 0;

            require(['echarts' /*, 'maps/js/china' */], function (echarts) {
                const xCnt = 16;
                const yCnt = xCnt;

                const xData = [
                    {
                    value: 'NF',
                    label: {
                        color: '#32CD32',
                        fontSize: 24,
                        fontWeight: 'bolder'
                    },
                    children: [
                        { value: 'INFJ', label: { color: '#32CD32', fontWeight: 'bold' } },
                        { value: 'INFP', label: { color: '#32CD32', fontWeight: 'bold' } },
                        { value: 'ENFJ', label: { color: '#32CD32', fontWeight: 'bold' } },
                        { value: 'ENFP', label: { color: '#32CD32', fontWeight: 'bold' } }
                    ]
                    },
                    {
                    value: 'NT',
                    label: {
                        color: '#9370DB',
                        fontSize: 24,
                        fontWeight: 'bolder'
                    },
                    children: [
                        { value: 'INTJ', label: { color: '#9370DB', fontWeight: 'bold' } },
                        { value: 'INTP', label: { color: '#9370DB', fontWeight: 'bold' } },
                        { value: 'ENTJ', label: { color: '#9370DB', fontWeight: 'bold' } },
                        { value: 'ENTP', label: { color: '#9370DB', fontWeight: 'bold' } }
                    ]
                    },
                    {
                    value: 'SJ',
                    label: {
                        color: '#87CEFA',
                        fontSize: 24,
                        fontWeight: 'bolder'
                    },
                    children: [
                        { value: 'ISTJ', label: { color: '#87CEFA', fontWeight: 'bold' } },
                        { value: 'ISFJ', label: { color: '#87CEFA', fontWeight: 'bold' } },
                        { value: 'ESTJ', label: { color: '#87CEFA', fontWeight: 'bold' } },
                        { value: 'ESFJ', label: { color: '#87CEFA', fontWeight: 'bold' } }
                    ]
                    },
                    {
                    value: 'SP',
                    label: {
                        color: '#FFB61E',
                        fontSize: 24,
                        fontWeight: 'bolder'
                    },
                    children: [
                        { value: 'ISTP', label: { color: '#FFB61E', fontWeight: 'bold' } },
                        { value: 'ISFP', label: { color: '#FFB61E', fontWeight: 'bold' } },
                        { value: 'ESTP', label: { color: '#FFB61E', fontWeight: 'bold' } },
                        { value: 'ESFP', label: { color: '#FFB61E', fontWeight: 'bold' } }
                    ]
                    }
                ];
                const yData = [
                    {
                    value: 'NF',
                    label: {
                        color: '#32CD32',
                        fontSize: 24,
                        fontWeight: 'bolder'
                    },
                    children: [
                        { value: 'INFJ', label: { color: '#32CD32', fontWeight: 'bold' } },
                        { value: 'INFP', label: { color: '#32CD32', fontWeight: 'bold' } },
                        { value: 'ENFJ', label: { color: '#32CD32', fontWeight: 'bold' } },
                        { value: 'ENFP', label: { color: '#32CD32', fontWeight: 'bold' } }
                    ]
                    },
                    {
                    value: 'NT',
                    label: {
                        color: '#9370DB',
                        fontSize: 24,
                        fontWeight: 'bolder'
                    },
                    children: [
                        { value: 'INTJ', label: { color: '#9370DB', fontWeight: 'bold' } },
                        { value: 'INTP', label: { color: '#9370DB', fontWeight: 'bold' } },
                        { value: 'ENTJ', label: { color: '#9370DB', fontWeight: 'bold' } },
                        { value: 'ENTP', label: { color: '#9370DB', fontWeight: 'bold' } }
                    ]
                    },
                    {
                    value: 'SJ',
                    label: {
                        color: '#87CEFA',
                        fontSize: 24,
                        fontWeight: 'bolder'
                    },
                    children: [
                        { value: 'ISTJ', label: { color: '#87CEFA', fontWeight: 'bold' } },
                        { value: 'ISFJ', label: { color: '#87CEFA', fontWeight: 'bold' } },
                        { value: 'ESTJ', label: { color: '#87CEFA', fontWeight: 'bold' } },
                        { value: 'ESFJ', label: { color: '#87CEFA', fontWeight: 'bold' } }
                    ]
                    },
                    {
                    value: 'SP',
                    label: {
                        color: '#FFB61E',
                        fontSize: 24,
                        fontWeight: 'bolder'
                    },
                    children: [
                        { value: 'ISTP', label: { color: '#FFB61E', fontWeight: 'bold' } },
                        { value: 'ISFP', label: { color: '#FFB61E', fontWeight: 'bold' } },
                        { value: 'ESTP', label: { color: '#FFB61E', fontWeight: 'bold' } },
                        { value: 'ESFP', label: { color: '#FFB61E', fontWeight: 'bold' } }
                    ]
                    }
                ];

                const MBTI = [
                    'ENFJ',
                    'ENFP',
                    'ENTJ',
                    'ENTP',
                    'ESFJ',
                    'ESFP',
                    'ESTJ',
                    'ESTP',
                    'INFJ',
                    'INFP',
                    'INTJ',
                    'INTP',
                    'ISFJ',
                    'ISFP',
                    'ISTJ',
                    'ISTP'
                ];

                const originalData = [
                    ['ENFJ', 'ENFJ', 0.86],
                    ['ENFJ', 'ENFP', 0.91],
                    ['ENFJ', 'ENTJ', 0.42],
                    ['ENFJ', 'ENTP', 0.73],
                    ['ENFJ', 'ESFJ', 0.64],
                    ['ENFJ', 'ESFP', 0.8],
                    ['ENFJ', 'ESTJ', 0.22],
                    ['ENFJ', 'ESTP', 0.41],
                    ['ENFJ', 'INFJ', 0.74],
                    ['ENFJ', 'INFP', 0.73],
                    ['ENFJ', 'INTJ', 0.16],
                    ['ENFJ', 'INTP', 0.35],
                    ['ENFJ', 'ISFJ', 0.3],
                    ['ENFJ', 'ISFP', 0.4],
                    ['ENFJ', 'ISTJ', 0.18],
                    ['ENFJ', 'ISTP', 0.09],

                    ['ENFP', 'ENFJ', 0.91],
                    ['ENFP', 'ENFP', 0.97],
                    ['ENFP', 'ENTJ', 0.37],
                    ['ENFP', 'ENTP', 0.85],
                    ['ENFP', 'ESFJ', 0.42],
                    ['ENFP', 'ESFP', 0.93],
                    ['ENFP', 'ESTJ', 0.27],
                    ['ENFP', 'ESTP', 0.76],
                    ['ENFP', 'INFJ', 0.51],
                    ['ENFP', 'INFP', 0.73],
                    ['ENFP', 'INTJ', 0.13],
                    ['ENFP', 'INTP', 0.36],
                    ['ENFP', 'ISFJ', 0.11],
                    ['ENFP', 'ISFP', 0.49],
                    ['ENFP', 'ISTJ', 0.04],
                    ['ENFP', 'ISTP', 0.14],

                    ['ENTJ', 'ENFJ', 0.42],
                    ['ENTJ', 'ENFP', 0.37],
                    ['ENTJ', 'ENTJ', 0.91],
                    ['ENTJ', 'ENTP', 0.81],
                    ['ENTJ', 'ESFJ', 0.53],
                    ['ENTJ', 'ESFP', 0.51],
                    ['ENTJ', 'ESTJ', 0.87],
                    ['ENTJ', 'ESTP', 0.74],
                    ['ENTJ', 'INFJ', 0.25],
                    ['ENTJ', 'INFP', 0.13],
                    ['ENTJ', 'INTJ', 0.46],
                    ['ENTJ', 'INTP', 0.47],
                    ['ENTJ', 'ISFJ', 0.29],
                    ['ENTJ', 'ISFP', 0.06],
                    ['ENTJ', 'ISTJ', 0.66],
                    ['ENTJ', 'ISTP', 0.41],

                    ['ENTP', 'ENFJ', 0.73],
                    ['ENTP', 'ENFP', 0.64],
                    ['ENTP', 'ENTJ', 0.81],
                    ['ENTP', 'ENTP', 0.94],
                    ['ENTP', 'ESFJ', 0.32],
                    ['ENTP', 'ESFP', 0.87],
                    ['ENTP', 'ESTJ', 0.7],
                    ['ENTP', 'ESTP', 0.92],
                    ['ENTP', 'INFJ', 0.11],
                    ['ENTP', 'INFP', 0.35],
                    ['ENTP', 'INTJ', 0.22],
                    ['ENTP', 'INTP', 0.51],
                    ['ENTP', 'ISFJ', 0.05],
                    ['ENTP', 'ISFP', 0.14],
                    ['ENTP', 'ISTJ', 0.11],
                    ['ENTP', 'ISTP', 0.35],

                    ['ESFJ', 'ESFJ', 0.94],
                    ['ESFJ', 'ESFP', 0.4],
                    ['ESFJ', 'ESTJ', 0.77],
                    ['ESFJ', 'ESTP', 0.37],
                    ['ESFJ', 'INFJ', 0.74],
                    ['ESFJ', 'INFP', 0.17],
                    ['ESFJ', 'INTJ', 0.32],
                    ['ESFJ', 'INTP', 0.05],
                    ['ESFJ', 'ISFJ', 0.79],
                    ['ESFJ', 'ISFP', 0.57],
                    ['ESFJ', 'ISTJ', 0.71],
                    ['ESFJ', 'ISTP', 0.19],

                    ['ESFP', 'ESFP', 0.7],
                    ['ESFP', 'ESTJ', 0.39],
                    ['ESFP', 'ESTP', 0.75],
                    ['ESFP', 'INFJ', 0.43],
                    ['ESFP', 'INFP', 0.58],
                    ['ESFP', 'INTJ', 0.22],
                    ['ESFP', 'INTP', 0.39],
                    ['ESFP', 'ISFJ', 0.12],
                    ['ESFP', 'ISFP', 0.58],
                    ['ESFP', 'ISTJ', 0.08],
                    ['ESFP', 'ISTP', 0.26],

                    ['ESTJ', 'ESTJ', 0.96],
                    ['ESTJ', 'ESTP', 0.78],
                    ['ESTJ', 'INFJ', 0.14],
                    ['ESTJ', 'INFP', 0.03],
                    ['ESTJ', 'INTJ', 0.33],
                    ['ESTJ', 'INTP', 0.22],
                    ['ESTJ', 'ISFJ', 0.48],
                    ['ESTJ', 'ISFP', 0.22],
                    ['ESTJ', 'ISTJ', 0.79],
                    ['ESTJ', 'ISTP', 0.55],

                    ['ESTP', 'ESTP', 0.95],
                    ['ESTP', 'INFJ', 0.05],
                    ['ESTP', 'INFP', 0.24],
                    ['ESTP', 'INTJ', 0.17],
                    ['ESTP', 'INTP', 0.39],
                    ['ESTP', 'ISFJ', 0.12],
                    ['ESTP', 'ISFP', 0.43],
                    ['ESTP', 'ISTJ', 0.2],
                    ['ESTP', 'ISTP', 0.62],

                    ['INFJ', 'INFJ', 0.95],
                    ['INFJ', 'INFP', 0.85],
                    ['INFJ', 'INTJ', 0.65],
                    ['INFJ', 'INTP', 0.5],
                    ['INFJ', 'ISFJ', 0.85],
                    ['INFJ', 'ISFP', 0.58],
                    ['INFJ', 'ISTJ', 0.53],
                    ['INFJ', 'ISTP', 0.23],

                    ['INFP', 'INFP', 0.97],
                    ['INFP', 'INTJ', 0.7],
                    ['INFP', 'INTP', 0.84],
                    ['INFP', 'ISFJ', 0.46],
                    ['INFP', 'ISFP', 0.78],
                    ['INFP', 'ISTJ', 0.21],
                    ['INFP', 'ISTP', 0.49],

                    ['INTJ', 'INTJ', 0.86],
                    ['INTJ', 'INTP', 0.89],
                    ['INTJ', 'ISFJ', 0.79],
                    ['INTJ', 'ISFP', 0.45],
                    ['INTJ', 'ISTJ', 0.85],
                    ['INTJ', 'ISTP', 0.78],

                    ['INTP', 'INTP', 0.96],
                    ['INTP', 'ISFJ', 0.38],
                    ['INTP', 'ISFP', 0.43],
                    ['INTP', 'ISTJ', 0.51],
                    ['INTP', 'ISTP', 0.81],

                    ['ISFJ', 'ISFJ', 0.95],
                    ['ISFJ', 'ISFP', 0.76],
                    ['ISFJ', 'ISTJ', 0.93],
                    ['ISFJ', 'ISTP', 0.62],

                    ['ISFP', 'ISFP', 0.97],
                    ['ISFP', 'ISTJ', 0.47],
                    ['ISFP', 'ISTP', 0.76],

                    ['ISTJ', 'ISTJ', 0.96],
                    ['ISTJ', 'ISTP', 0.78],

                    ['ISTP', 'ISTP', 0.96]
                ];

                //get data pairs
                const dataMap = new Map();
                for (const [a, b, v] of originalData) {
                    dataMap.set(`${a}-${b}`, v);
                }

                const data = [];
                for (const a of MBTI) {
                    for (const b of MBTI) {
                    const key = `${a}-${b}`;
                    const altKey = `${b}-${a}`;
                    if (dataMap.has(key)) {
                        data.push([a, b, dataMap.get(key)]);
                    } else if (dataMap.has(altKey)) {
                        data.push([a, b, dataMap.get(altKey)]);
                    } else {
                        data.push([a, b, 0]);
                    }
                    }
                }

                const size = Math.min(window.innerWidth, window.innerHeight) * 0.9;

                const option = {
                    matrix: {
                    x: {
                        data: xData,
                        itemStyle: {
                        borderColor: 'transparent',
                        borderWidth: 0
                        }
                    },
                    y: {
                        data: yData,
                        itemStyle: {
                        borderColor: 'transparent',
                        borderWidth: 0
                        }
                    },
                    width: size,
                    height: size,
                    left: (window.innerWidth - size) / 2,
                    backgroundStyle: {
                        color: 'transparent',
                        borderColor: 'transparent',
                        borderWidth: 0
                    }
                    },
                    visualMap: {
                    type: 'continuous',
                    min: 0,
                    max: 1,
                    dimension: 2,
                    calculable: true,
                    orient: 'horizontal',
                    top: 5,
                    left: 'center',
                    inRange: {
                        color: [
                        '#fff',
                        '#cc0000'
                        // '#cc3333',
                        // '#5070dd',
                        // '#b6d634',
                        // '#785db0',
                        // '#3fbe95'
                        ]
                    }
                    },
                    series: {
                    type: 'heatmap',
                    coordinateSystem: 'matrix',
                    data,
                    label: {
                        show: true,
                        formatter: (params) => params.value[2].toFixed(2)
                    }
                    }
                };

                var chart = testHelper.create(echarts, 'main0', {
                    option: option,
                    height: 820
                });
            });


    </script>


</body>
</html>

